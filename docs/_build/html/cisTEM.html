<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cisTEM &mdash; tem-docs 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/my_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CryoSPARC" href="cryoSPARC.html" />
    <link rel="prev" title="Relion" href="relion.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            tem-docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="newfarm.html">GSDC Computing Cluster for TEM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#service-overview">1. Service overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#computing-and-storage-resources">2. Computing and storage resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#cluster-management-softwares">3. Cluster management softwares</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#data-analysis-tools">4. Data analysis tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#requesting-user-accounts-and-accessing-gsdc-tem-computing-cluster">5. Requesting user accounts and accessing GSDC TEM computing cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#module-paths-and-job-submission-templates">6. Module paths and job submission templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="newfarm.html#module-paths-for-data-analysis-tools">Module paths for data analysis tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="newfarm.html#job-submission-templates">Job submission templates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#batch-queues">7. Batch queues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="newfarm.html#checking-batch-queue-names-and-their-status">Checking batch queue names and their status</a></li>
<li class="toctree-l3"><a class="reference internal" href="newfarm.html#checking-all-worker-nodes-status">Checking all worker nodes status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#fstat-bin-monitoring-the-usage-of-all-the-worker-nodes">8. fstat.bin : Monitoring the usage of all the worker nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="newfarm.html#dynmotd-checking-storage-quota-limit-and-usage-ratio">9. dynmotd : Checking storage quota limit and usage ratio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">TEM Computing Cluster Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="guide.html#requesting-accounts-and-accessing-tem-cluster">Requesting accounts and accessing TEM cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide.html#for-linux-mac-users">For Linux/Mac users</a></li>
<li class="toctree-l3"><a class="reference internal" href="guide.html#for-windows-users">For Windows users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#understanding-environment-modules">Understanding environment modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#job-manager-torque">Job manager (Torque)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide.html#resources-manager-and-job-scheduler">Resources manager and job scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="guide.html#directives-in-torque-job-scripts">Directives in Torque job scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide.html#resource-limits"><strong>Resource limits</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#job-name"><strong>Job name</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#queue-name"><strong>Queue name</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#job-log-files"><strong>Job log files</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide.html#torque-job-script-examples">Torque job script examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide.html#simple-sequential-job"><strong>Simple sequential job</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#serial-job-with-openmp-multithreading"><strong>Serial job with OpenMP multithreading</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#simple-mpi-parallel-job"><strong>Simple MPI parallel job</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#parallel-job-with-mpi-and-openmp"><strong>Parallel job with MPI and OpenMP</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide.html#job-submission">Job submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="guide.html#monitoring-and-managing-your-jobs">Monitoring and managing your jobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide.html#status-of-queued-jobs"><strong>Status of queued jobs</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#managing-your-jobs"><strong>Managing your jobs</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="queue.html">Batch Queues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="queue.html#batch-queue-list">Batch queue list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="relion.html">Relion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="relion.html#executing-relion-gui-tools">Executing Relion GUI tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relion.html#how-to-start-relion-data-analysis-tool">How to start Relion data analysis tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relion.html#pbs-strings-used-in-relion">PBS Strings used in Relion</a></li>
<li class="toctree-l2"><a class="reference internal" href="relion.html#running-data-analysis-jobs-using-cpu-cores">Running data analysis jobs using CPU cores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relion.html#module-path">Module path</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#environment-variables">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#standard-job-submission-script-for-relion-4-0-0-cpu-use">Standard job submission script (for relion 4.0.0 CPU use)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relion.html#running-data-analysis-jobs-using-gpgpus">Running data analysis jobs using GPGPUs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relion.html#id1">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#standard-job-submission-script-for-relion-4-0-0-gpgpu-use">Standard job submission script (for relion 4.0.0 GPGPU use)</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#specifying-which-gpgpus-to-use">Specifying which GPGPUs to use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relion.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relion.html#motion-correction">Motion Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#ctf-estimation">CTF Estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="relion.html#d-classification">2D Classification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">cisTEM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#executing-cistem">Executing cisTEM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-start-cistem-data-analysis-tool">How to start cisTEM data analysis tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#run-profiles-for-job-submission">Run profiles for job submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#profile-templates">Profile templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-a-new-run-profile">Adding a new Run Profile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples-of-running-cistem-jobs">Examples of running cisTEM jobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#importing-movies-and-images">Importing Movies and images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#movie-alignment">Movie Alignment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cryoSPARC.html">CryoSPARC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#getting-a-cryosparc-instance">Getting a cryoSPARC instance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#admin-install-and-setup-a-cryosparc-instance">1. (Admin) Install and setup a cryoSPARC instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#user-verifying-installation">2. (User) Verifying installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#launching-cryosparc-instance">Launching CryoSPARC instance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#for-linux-mac-users">For Linux/Mac users</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#for-windows-users">For Windows users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#exploring-cryosparc-web-apps">Exploring CryoSPARC web apps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#cryosparc-login">CryoSPARC login</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#cryosparc-dashboard">CryoSPARC dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#cryosparc-project">CryoSPARC project</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#cryosparc-cluster-lane">CryoSPARC cluster(lane)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#tutorial-on-processing-t20s">Tutorial on processing T20S</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryoSPARC.html#trouble-shooting">Trouble shooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#how-to-stop-or-start-the-cryosparc-instance">1. How to stop or start the cryoSPARC instance?</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#how-to-reset-the-password-of-non-admin-user">2. How to reset the password of non-admin user?</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#job-or-workflow-failed-caused-by-ssd-caching">3. Job (or Workflow) failed caused by <strong>SSD caching</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#failed-to-launch-190">4. Failed to launch! 190</a></li>
<li class="toctree-l3"><a class="reference internal" href="cryoSPARC.html#binary-locations-of-gctf-motioncor2">5. Binary locations of Gctf, MotionCor2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="topaz.html">Topaz</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topaz.html#topaz-executables">Topaz Executables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topaz.html#topaz-binary-executable-with-cuda-9-2">Topaz binary executable with CUDA 9.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="topaz.html#topaz-binary-executable-with-cuda-11-2">Topaz binary executable with CUDA 11.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="topaz.html#using-topaz-in-cryosparc">Using Topaz in CryoSPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="topaz.html#using-topaz-in-relion-v3-1-0-above">Using Topaz in Relion (v3.1.0 above)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-resolve-the-problems-on-re-starting-your-own-cryosparc-instance">How to resolve the problems on (re)starting your own cryosparc instance?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-repair-cryosparc-database-corruption">How to repair cryosparc database corruption?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-upgrade-or-downgrade-to-the-specific-version-of-cryosparc-softwares">How to upgrade (or downgrade) to the specific version of cryosparc softwares?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#checking-for-updates">1. Checking for updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#before-you-update-complete-or-kill-running-jobs">2. Before you update: complete or kill running jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#back-up-cryosparc-databases">3. Back-up cryosparc databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#cryosparc-master-updates">4. Cryosparc master updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#cryosparc-worker-updates">5. Cryosparc worker updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#running-the-newer-cryosparc-instance">6. Running the newer cryosparc instance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="app.html">APPENDIX : Application Form &amp; Materials </a><ul>
<li class="toctree-l2"><a class="reference internal" href="app.html#gsdc-tem-application-form">GSDC TEM Application Form</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#tutorial">Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contacts</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tem-docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">cisTEM</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cisTEM.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cistem">
<h1>cisTEM<a class="headerlink" href="#cistem" title="Permalink to this heading"></a></h1>
<p>cisTEM is user-friendly software to process cryo-EM images of macromolecular complexes and obtain high-resolution 3D reconstructions from them. It comprises a number of tools to process image data including movies, micrographs and stacks of single-particle images, implementing a complete “pipeline” of processing steps to obtain high-resolution single-particle reconstructions. (from cisTEM official site <a class="reference external" href="https://cistem.org">https://cistem.org</a>)</p>
<section id="executing-cistem">
<h2>Executing cisTEM<a class="headerlink" href="#executing-cistem" title="Permalink to this heading"></a></h2>
<section id="how-to-start-cistem-data-analysis-tool">
<h3>How to start cisTEM data analysis tool<a class="headerlink" href="#how-to-start-cistem-data-analysis-tool" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>You can find out cisTEM applications’ environment module path by listing all the module available on TEM service farm.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>module<span class="w"> </span>avail

--------<span class="w"> </span>/tem/el7/Modules/apps<span class="w"> </span>--------
apps/cistem/1.0.0
apps/relion/cpu/3.0.7
apps/relion/cpu/3.1.0
apps/relion/cpu/4.0.0
apps/relion/gpu/3.0.7
apps/relion/gpu/3.1.0

----<span class="w"> </span>/tem/el7/Modules/acceleration<span class="w"> </span>----
cuda/9.2<span class="w">  </span>cuda/11.2

--------<span class="w"> </span>/tem/el7/Modules/mpi<span class="w"> </span>---------
mpi/gcc/4.8.5/openmpi/4.0.3
mpi/gcc/8.3.1/mpich/3.4.3
mpi/gcc/8.3.1/openmpi/4.0.3
mpi/gcc/openmpi/4.0.3

-----<span class="w"> </span>/tem/el7/Modules/virtualenv<span class="w"> </span>-----
conda/2020.11<span class="w">  </span>topaz/cuda-9.2/0.2.4
pyem/0.5<span class="w">       </span>topaz/cuda-11.0/0.2.4

-------<span class="w"> </span>/tem/el7/Modules/tools<span class="w"> </span>--------
tools/aspera-cli/3.9.6
tools/ctffind/4.1.14
tools/gctf/1.18_b2
tools/motioncor2/1.3.1
tools/resmap/1.1.4
tools/summovie/1.0.2
tools/unblur/1.0.2

-----<span class="w"> </span>/tem/el7/Modules/experiment<span class="w"> </span>-----
PyRosetta/4
python/3.7
rosetta/mpich-3.4.3/3.13
rosetta/openmpi-4.0.3/3.13
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Check the module details for cisTEM application</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>module<span class="w"> </span>show<span class="w"> </span>apps/cistem/1.0.0

-------------------------------------------------------------------
/tem/el7/Modules/apps/apps/cistem/1.0.0:

module-whatis<span class="w">   </span><span class="o">{</span>Setups<span class="w"> </span>cistem<span class="w"> </span><span class="m">1</span>.0.0<span class="w"> </span>environment<span class="w"> </span>variables<span class="o">}</span>
module<span class="w">          </span>load<span class="w"> </span>mpi/gcc/openmpi/4.0.3
prepend-path<span class="w">    </span>PATH<span class="w"> </span>/tem/el7/cistem-1.0.0-beta
conflict<span class="w">        </span>apps/cistem
-------------------------------------------------------------------
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Load the environment module for cisTEM  application which you want to execute. As the module specified is loaded, all the modules with dependency are also loaded (you can check these modules with “module list” command)</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>apps/cistem/1.0.0
$&gt;<span class="w"> </span>module<span class="w"> </span>list
Currently<span class="w"> </span>Loaded<span class="w"> </span>Modulefiles:
<span class="w">  </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>mpi/gcc/openmpi/4.0.3<span class="w">   </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>apps/cistem/1.0.0
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Check the cisTEM application binary path</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>which<span class="w"> </span>cisTEM
/tem/el7/cistem-1.0.0-beta/cisTEM
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Execute the cisTEM application (we assume that X11 forwarding is enabled)</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt;<span class="w"> </span>cisTEM
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cistem-screenshot-re.png"><img alt="_images/cistem-screenshot-re.png" class="align-center" src="_images/cistem-screenshot-re.png" style="width: 816.4000000000001px; height: 638.8000000000001px;" /></a>
<p>On startup, the GUI presents a list of previously opened projects, as well as options to create a new project or open an existing project.
To continue a previous project, click on the provided link.</p>
</section>
</section>
<section id="run-profiles-for-job-submission">
<h2>Run profiles for job submission<a class="headerlink" href="#run-profiles-for-job-submission" title="Permalink to this heading"></a></h2>
<section id="profile-templates">
<h3>Profile templates<a class="headerlink" href="#profile-templates" title="Permalink to this heading"></a></h3>
<p>If you need cisTEM to work on multiple computing servers in a cluster which is managed with Torque, you should check out (or create) a “Run Profile” in cisTEM’s settings tab.
You can find a shell script available in following file paths.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/tem/el7/qsub-cisTEM-cpu-noout.sh<span class="w">             </span><span class="c1">## output, error 로그 파일을 생성하지 않는 cisTEM 작업 템플릿</span>
/tem/el7/qsub-cisTEM-cpu.sh<span class="w">                   </span><span class="c1">## output, error 로그 파일을 생성하는 cisTEM 작업 템플릿</span>
</pre></div>
</div>
<p>For qsub-cisTEM-cpu.sh,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">queue</span><span class="o">=</span>
<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;:q:&quot;</span><span class="w"> </span>OPTION
<span class="k">do</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>q<span class="o">)</span><span class="w"> </span><span class="nv">queue</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
<span class="w">  </span><span class="k">esac</span>
<span class="k">done</span>
<span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="o">-</span><span class="m">1</span><span class="k">))</span>

cat<span class="w"> </span>-<span class="w"> </span><span class="s">&lt;&lt;EOF | qsub</span>
<span class="s">#!/bin/bash</span>
<span class="s">#PBS -N cisTEM.${1}</span>
<span class="s">${queue:+#PBS -l nodes=1:ppn=1:${queue}}</span>
<span class="s">${queue:+#PBS -q ${queue}}</span>

<span class="s">module load apps/cistem/1.0.0</span>
<span class="s">${@}</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>For qsub-cisTEM-cpu-noout.sh,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">queue</span><span class="o">=</span>
<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;:q:&quot;</span><span class="w"> </span>OPTION
<span class="k">do</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>q<span class="o">)</span><span class="w"> </span><span class="nv">queue</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTARG</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;;</span>
<span class="w">  </span><span class="k">esac</span>
<span class="k">done</span>
<span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="o">-</span><span class="m">1</span><span class="k">))</span>

cat<span class="w"> </span>-<span class="w"> </span><span class="s">&lt;&lt;EOF | qsub</span>
<span class="s">#!/bin/bash</span>
<span class="s">#PBS -N cisTEM.${1}</span>
<span class="s">#PBS -e /dev/null</span>
<span class="s">#PBS -o /dev/null</span>
<span class="s">${queue:+#PBS -l nodes=1:ppn=1:${queue}}</span>
<span class="s">${queue:+#PBS -q ${queue}}</span>

<span class="s">module load apps/cistem/1.0.0</span>
<span class="s">${@}</span>
<span class="s">EOF</span>
</pre></div>
</div>
</section>
<section id="adding-a-new-run-profile">
<h3>Adding a new Run Profile<a class="headerlink" href="#adding-a-new-run-profile" title="Permalink to this heading"></a></h3>
<p>In cisTEM settings, add a new “Run Profile” (called TORQUE here) with the following parameters :</p>
<ul class="simple">
<li><p>Manager Command: /tem/el7/cistem-1.0.0-beta/$command</p></li>
<li><p>Gui Address: Automatic</p></li>
<li><p>Controller Address: Automatic</p></li>
<li><p>Command -&gt; Edit:</p>
<ul>
<li><p>Command: /tem/el7/qsub-cisTEM-cpu.sh <strong>-q cpuQ</strong> $command</p></li>
<li><p>No. Copies: 84</p></li>
<li><p>Delay (ms): 10</p></li>
</ul>
</li>
</ul>
<a class="reference internal image-reference" href="_images/cistem-run-profile-re.png"><img alt="_images/cistem-run-profile-re.png" class="align-center" src="_images/cistem-run-profile-re.png" style="width: 1020.5px; height: 602.0px;" /></a>
</section>
</section>
<section id="examples-of-running-cistem-jobs">
<h2>Examples of running cisTEM jobs<a class="headerlink" href="#examples-of-running-cistem-jobs" title="Permalink to this heading"></a></h2>
<p>With the above cisTEM setting, here, we provide some examples of running cisTEM jobs with cisTEM GUI tools.</p>
<section id="importing-movies-and-images">
<h3>Importing Movies and images<a class="headerlink" href="#importing-movies-and-images" title="Permalink to this heading"></a></h3>
<p>Once a project is open or has been newly created, Assets can be imported. These will usually be Movies or Images but can also be Particle Positions, 3D Volumes and Refinement Packages.
Click on Assets, then Movies and Import. In the dialog, select “Add Directory” and navigate to the directory containing your own movies.
The movies are all part of a group called “All Movies”. Additional groups can be created using “Add” to select subsets of a dataset for further processing.
You should continue with all the data for now. If images are available instead of movies,
these can be imported as Image Assets in the same way as Movies, by clicking “Images”.</p>
<a class="reference internal image-reference" href="_images/cisTEM-importmovies.png"><img alt="_images/cisTEM-importmovies.png" class="align-center" src="_images/cisTEM-importmovies.png" style="width: 1092.8px; height: 718.4000000000001px;" /></a>
</section>
<section id="movie-alignment">
<h3>Movie Alignment<a class="headerlink" href="#movie-alignment" title="Permalink to this heading"></a></h3>
<p>Movie data collection and frame alignment have been part of the single-particle image processing pipeline since it was first introduced by Brilot et al. in 2012. The original software <strong>Unblur</strong> was developed further by Grant &amp; Grigorieff (2015) when exposure weighting was added to take into account the radiation-dependent signal loss when adding movie frames, yielding signal-optimized frame sums. cisTEM implements the Unblur algorithm in the Align Movies panel, which also provides some background to the method. Click “Actions” and select “Align Movies” to call up the panel.</p>
<a class="reference internal image-reference" href="_images/cisTEM-alignmovies-1.png"><img alt="_images/cisTEM-alignmovies-1.png" class="align-center" src="_images/cisTEM-alignmovies-1.png" style="width: 1092.8px; height: 716.0px;" /></a>
<p>Actions panels display parameters that you can change. Some of these are shown on the main panel while others are only accessible when “Show Expert Options” is selected.
Movie alignment usually works with the default parameters and you should simply click “Start Alignment” near the bottom of the panel.
You will notice that next to the start button a menu is shown that allows you to select different run profiles.
The Local profile should <strong>NOT</strong> be selected because it will launch alignment jobs onto the login node but you should change to other profiles (for example, TORQUE profile)
if these were previously set up under Settings.</p>
<p>The alignment of all the  movies takes less than a minute. While the job is running, X,Y traces are displayed for some of the movies and a progress bar indicates the time left until completion of the job.
After termination (you must click on “Finish” at the end of all jobs), you can inspect the results by clicking “Results”</p>
<a class="reference internal image-reference" href="_images/cisTEM-alignmovies-2.png"><img alt="_images/cisTEM-alignmovies-2.png" class="align-center" src="_images/cisTEM-alignmovies-2.png" style="width: 1094.4px; height: 717.6px;" /></a>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="relion.html" class="btn btn-neutral float-left" title="Relion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cryoSPARC.html" class="btn btn-neutral float-right" title="CryoSPARC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, GSDC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>